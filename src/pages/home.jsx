import * as React from "react";
import { useState, useCallback, useMemo } from 'react';

// Sourced from: https://www.kreativekorp.com/ucsur/charts/sitelen.html
const TOKI_TABLE = {
  "A": "\uF1900",
  "AKESI": "\uF1901",
  "ALA": "\uF1902",
  "ALASA": "\uF1903",
  "ALE": "\uF1904",
  "ANPA": "\uF1905",
  "ANTE": "\uF1906",
  "ANU": "\uF1907",
  "AWEN": "\uF1908",
  "E": "\uF1909",
  "EN": "\uF190A",
  "ESUN": "\uF190B",
  "IJO": "\uF190C",
  "IKE": "\uF190D",
  "ILO": "\uF190E",
  "INSA": "\uF190F",
  "JAKI": "\uF1910",
  "JAN": "\uF1911",
  "JELO": "\uF1912",
  "JO": "\uF1913",
  "KALA": "\uF1914",
  "KALAMA": "\uF1915",
  "KAMA": "\uF1916",
  "KASI": "\uF1917",
  "KEN": "\uF1918",
  "KEPEKEN": "\uF1919",
  "KILI": "\uF191A",
  "KIWEN": "\uF191B",
  "KO": "\uF191C",
  "KON": "\uF191D",
  "KULE": "\uF191E",
  "KULUPU": "\uF191F",
  "KUTE": "\uF1920",
  "LA": "\uF1921",
  "LAPE": "\uF1922",
  "LASO": "\uF1923",
  "LAWA": "\uF1924",
  "LEN": "\uF1925",
  "LETE": "\uF1926",
  "LI": "\uF1927",
  "LILI": "\uF1928",
  "LINJA": "\uF1929",
  "LIPU": "\uF192A",
  "LOJE": "\uF192B",
  "LON": "\uF192C",
  "LUKA": "\uF192D",
  "LUKIN": "\uF192E",
  "LUPA": "\uF192F",
  "MA": "\uF1930",
  "MAMA": "\uF1931",
  "MANI": "\uF1932",
  "MELI": "\uF1933",
  "MI": "\uF1934",
  "MIJE": "\uF1935",
  "MOKU": "\uF1936",
  "MOLI": "\uF1937",
  "MONSI": "\uF1938",
  "MU": "\uF1939",
  "MUN": "\uF193A",
  "MUSI": "\uF193B",
  "MUTE": "\uF193C",
  "NANPA": "\uF193D",
  "NASA": "\uF193E",
  "NASIN": "\uF193F",
  "NENA": "\uF1940",
  "NI": "\uF1941",
  "NIMI": "\uF1942",
  "NOKA": "\uF1943",
  "O": "\uF1944",
  "OLIN": "\uF1945",
  "ONA": "\uF1946",
  "OPEN": "\uF1947",
  "PAKALA": "\uF1948",
  "PALI": "\uF1949",
  "PALISA": "\uF194A",
  "PAN": "\uF194B",
  "PANA": "\uF194C",
  "PI": "\uF194D",
  "PILIN": "\uF194E",
  "PIMEJA": "\uF194F",
  "PINI": "\uF1950",
  "PIPI": "\uF1951",
  "POKA": "\uF1952",
  "POKI": "\uF1953",
  "PONA": "\uF1954",
  "PU": "\uF1955",
  "SAMA": "\uF1956",
  "SELI": "\uF1957",
  "SELO": "\uF1958",
  "SEME": "\uF1959",
  "SEWI": "\uF195A",
  "SIJELO": "\uF195B",
  "SIKE": "\uF195C",
  "SIN": "\uF195D",
  "SINA": "\uF195E",
  "SINPIN": "\uF195F",
  "SITELEN": "\uF1960",
  "SONA": "\uF1961",
  "SOWELI": "\uF1962",
  "SULI": "\uF1963",
  "SUNO": "\uF1964",
  "SUPA": "\uF1965",
  "SUWI": "\uF1966",
  "TAN": "\uF1967",
  "TASO": "\uF1968",
  "TAWA": "\uF1969",
  "TELO": "\uF196A",
  "TENPO": "\uF196B",
  "TOKI": "\uF196C",
  "TOMO": "\uF196D",
  "TU": "\uF196E",
  "UNPA": "\uF196F",
  "UTA": "\uF1970",
  "UTALA": "\uF1971",
  "WALO": "\uF1972",
  "WAN": "\uF1973",
  "WASO": "\uF1974",
  "WAWA": "\uF1975",
  "WEKA": "\uF1976",
  "WILE": "\uF1977",
  "NAMAKO": "\uF1978",
  "KIN": "\uF1979",
  "OKO": "\uF197A",
  "KIPISI": "\uF197B",
  "LEKO": "\uF197C",
  "MONSUTA": "\uF197D",
  "TONSI": "\uF197E",
  "JASIMA": "\uF197F",
  "KIJETESANTAKALU": "\uF1980",
  "SOKO": "\uF1981",
  "MESO": "\uF1982",
  "EPIKU": "\uF1983",
  "KOKOSILA": "\uF1984",
  "LANPAN": "\uF1985",
  "N": "\uF1986",
  "MISIKEKE": "\uF1987",
  "KU": "\uF1988",
  "PAKE": "\uF19A0",
  "APEJA": "\uF19A1",
  "MAJUNA": "\uF19A2",
  "POWE": "\uF19A3",
  "[": "\uF1993",
  "{": "\uF1990",
  "}": "\uF1991"
}

export default function IloPiSitelenPona() {
  const [input, setInput] = useState("toki a!");
  
  const tokens = useMemo(() => input.split(/(\b|\[|\]|\{|\})/).filter(word => word.trim().length > 0).map(word => word.toUpperCase()), [input])
  
  const output = useMemo(() => tokens.map(tok => TOKI_TABLE[tok] || tok), [tokens])

  return (
    <>
      <h1 className="title">sina ken pali e sitelen pona</h1>
      <div class="row">
        <h3 style={{marginRight: 2 + 'em'}}>Write your toki pona here:</h3>
        <h3>o sitelen e toki lon toki pona:</h3>
      </div>
      <textarea class="input" value={input} onChange={ev => setInput(ev.target.value)}></textarea>
      <h3>Copy your sitelen pona from here:</h3>
      <p class="output">{JSON.stringify(tokens)}<br/>{output}</p>
    </>
  );
}
